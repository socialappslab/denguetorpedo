.feed-item
  .row{"style" => "margin-top: 20px; margin-left: 5px; margin-right: 5px;"}

    %div{"style" => "display: inline-block;"}
      %a{"ng-href" => "{{post.user.url}}"}
        %img.img-rounded{"ng-src" => "{{post.user.photo}}", "style" => "height: 75px; width: 75px;"}


    .feed-item-bar-new{:style => "display: inline-block;"}
      .username{:style => "padding-left: 5px;"}
        %a{"ng-href" => "{{post.user.url}}", :user_id => "{{post.user.id}}" }
          {{post.user.display_name}}
        %a{"ng-href" => "{{post.user.neighborhood.url}}", :style => "color: #8899a6; font-weight: 300;"}
          {{post.user.neighborhood.geographical_display_name}}
    .feed-item-timestamp.pull-right{:style => "display: inline-block; font-size: 16px;"}
      {{post.timestamp}}


  .feed-item-content
    %div{"ng-bind-html" => "post.content | denguechatLinky:'_blank'", "show-more" => true}
    .post-photo{"ng-hide" => "{{post.photo == null}}"}
      %img.img-rounded{"ng-src" => "{{post.photo}}"}


  .feed-item-interaction-menu
    %a.feed-button{"ng-click" => "updateLikesCounter(post)", "ng-style" => "{color: post.liked == true ? '#3498db' : '#8899a6'}"}
      %i.fa.fa-thumbs-up.like-icon
      {{post.likes_count}}

    - if @current_user.present?
      %a.feed-button{"ng-click" => "showNewComment = !showNewComment"}
        %i.fa.fa-comment-o
        Comentar

    %a.feed-button{"share-to-facebook" => true, "ng-click" => "", :post => "{{post}}"}
      %i.fa.fa-share
      Compartir Facebook


    - if @current_user.present?
      .pull-right{"ng-show" => "post.user.id == #{@current_user.id} || #{@current_user && @current_user.coordinator?}"}
        %a{"style" => "margin-right: 10px;", "ng-click" => "deletePost(post)", "path" => "post.actions.delete"}
          %span{"ng-hide" => "deleteRequestSubmitted"}
            = I18n.t("common_terms.delete")
          %i.fa.fa-spin.fa-refresh{"ng-show" => "deleteRequestSubmitted"}

// Enumerate all comments.
%div{"comment" => "comment", "ng-repeat" => "comment in post.comments"}
  = render :partial => "comments/comment"

%new-comment{"post" => "post", "ng-show" => "showNewComment"}

